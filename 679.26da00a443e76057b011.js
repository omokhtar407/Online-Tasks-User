"use strict";(self.webpackChunkwork_space=self.webpackChunkwork_space||[]).push([[679],{2679:(H,p,a)=>{a.r(p),a.d(p,{AuthModule:()=>z});var i=a(3679),f=a(1841),v=a(2810),g=a(8583),l=a(4655),r=a(7716),Z=a(1350);let _=(()=>{class e{constructor(t){this.http=t}createAcc(t){return this.http.post(Z.N.baseApi+"auth/createAccount",t)}login(t){return this.http.post(Z.N.baseApi+"auth/login",t)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(f.eN))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=a(6509),s=a(8295),T=a(9983),A=a(1095),q=a(6627);function b(e,n){1&e&&(r.TgZ(0,"mat-error"),r._uU(1," Email is "),r.TgZ(2,"strong"),r._uU(3,"required"),r.qZA(),r.qZA())}function x(e,n){1&e&&(r.TgZ(0,"mat-error"),r._uU(1," Email "),r.TgZ(2,"strong"),r._uU(3,"must be email"),r.qZA(),r.qZA())}function w(e,n){if(1&e&&(r.TgZ(0,"mat-error"),r.YNc(1,b,4,0,"mat-error",13),r.YNc(2,x,4,0,"mat-error",13),r.qZA()),2&e){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.f.email.errors.required),r.xp6(1),r.Q6J("ngIf",t.f.email.errors.email)}}function C(e,n){1&e&&(r.TgZ(0,"mat-error"),r._uU(1," Password is "),r.TgZ(2,"strong"),r._uU(3,"required"),r.qZA(),r.qZA())}function U(e,n){if(1&e&&(r.TgZ(0,"mat-error"),r.YNc(1,C,4,0,"mat-error",13),r.qZA()),2&e){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.f.password.errors.required)}}function y(e,n){1&e&&(r.TgZ(0,"mat-error"),r._uU(1," Username is "),r.TgZ(2,"strong"),r._uU(3,"required"),r.qZA(),r.qZA())}function I(e,n){1&e&&(r.TgZ(0,"mat-error"),r._uU(1," Username "),r.TgZ(2,"strong"),r._uU(3,"min length is 5"),r.qZA(),r.qZA())}function J(e,n){if(1&e&&(r.TgZ(0,"mat-error"),r.YNc(1,y,4,0,"mat-error",13),r.YNc(2,I,4,0,"mat-error",13),r.qZA()),2&e){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.f.username.errors.required),r.xp6(1),r.Q6J("ngIf",t.f.username.errors.minlength)}}function P(e,n){1&e&&(r.TgZ(0,"mat-error"),r._uU(1," Email is "),r.TgZ(2,"strong"),r._uU(3,"required"),r.qZA(),r.qZA())}function N(e,n){1&e&&(r.TgZ(0,"mat-error"),r._uU(1," Email "),r.TgZ(2,"strong"),r._uU(3,"must be email"),r.qZA(),r.qZA())}function R(e,n){if(1&e&&(r.TgZ(0,"mat-error"),r.YNc(1,P,4,0,"mat-error",13),r.YNc(2,N,4,0,"mat-error",13),r.qZA()),2&e){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.f.email.errors.required),r.xp6(1),r.Q6J("ngIf",t.f.email.errors.email)}}function M(e,n){1&e&&(r.TgZ(0,"mat-error"),r._uU(1," Password is "),r.TgZ(2,"strong"),r._uU(3,"required"),r.qZA(),r.qZA())}function O(e,n){if(1&e&&(r.TgZ(0,"mat-error"),r.YNc(1,M,4,0,"mat-error",13),r.qZA()),2&e){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.f.password.errors.required)}}function Y(e,n){1&e&&(r.TgZ(0,"mat-error"),r._uU(1," confirmPassword is "),r.TgZ(2,"strong"),r._uU(3,"required"),r.qZA(),r.qZA())}function F(e,n){if(1&e&&(r.TgZ(0,"mat-error"),r.YNc(1,Y,4,0,"mat-error",13),r.qZA()),2&e){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.f.confirmPassword.errors.required)}}function L(e,n){1&e&&(r.TgZ(0,"mat-hint"),r._uU(1," Password "),r.TgZ(2,"strong"),r._uU(3,"not match"),r.qZA(),r.qZA())}const Q=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class e{constructor(t,o,m,u){this.fb=t,this.authSer=o,this.toastr=m,this._Router=u,this.hide=!0}ngOnInit(){this.buildForm()}buildForm(){this.loginForm=this.fb.group({email:["",[i.kI.required,i.kI.email]],password:["",i.kI.required],role:"user"})}get f(){return this.loginForm.controls}login(){this.authSer.login(this.loginForm.value).subscribe(t=>{localStorage.setItem("userToken",t.token),this.toastr.success("Success","Register success"),this._Router.navigate(["/dashboard/tasks"])})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(i.qu),r.Y36(_),r.Y36(h._W),r.Y36(l.F0))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-login"]],decls:33,vars:8,consts:[["id","Login",1,"vh-100","d-flex","justify-content-center","align-items-center"],[1,"overlay"],[1,"container","position-relative"],[1,"row","justify-content-center"],[1,"col-lg-4","col-md-6"],[1,"login_form","py-5","px-4"],["routerLink","",1,"logo"],["src","assets/imgs/logo-tasks-primary.png","alt","logo"],[1,"example-form",3,"formGroup"],[1,"row","g-4"],[1,"col-12"],["appearance","fill",1,"example-full-width","w-100"],["type","email","matInput","","formControlName","email"],[4,"ngIf"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"col-12","text-center","mt-2"],["routerLink","/register"],[1,"actions","text-center","mt-3"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(t,o){1&t&&(r.TgZ(0,"section",0),r._UZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r.TgZ(6,"a",6),r._UZ(7,"img",7),r.qZA(),r.TgZ(8,"form",8),r.TgZ(9,"div",9),r.TgZ(10,"div",10),r.TgZ(11,"mat-form-field",11),r.TgZ(12,"mat-label"),r._uU(13,"Email"),r.qZA(),r._UZ(14,"input",12),r.YNc(15,w,3,2,"mat-error",13),r.qZA(),r.qZA(),r.TgZ(16,"div",10),r.TgZ(17,"mat-form-field",11),r.TgZ(18,"mat-label"),r._uU(19,"Password"),r.qZA(),r._UZ(20,"input",14),r.TgZ(21,"button",15),r.NdJ("click",function(){return o.hide=!o.hide}),r.TgZ(22,"mat-icon"),r._uU(23),r.qZA(),r.qZA(),r.YNc(24,U,2,1,"mat-error",13),r.qZA(),r.qZA(),r.TgZ(25,"div",16),r.TgZ(26,"p"),r._uU(27,"Don't Have an Account ? "),r.TgZ(28,"a",17),r._uU(29,"Register Now"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(30,"div",18),r.TgZ(31,"button",19),r.NdJ("click",function(){return o.login()}),r._uU(32,"Login"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(8),r.Q6J("formGroup",o.loginForm),r.xp6(7),r.Q6J("ngIf",o.f.email.errors&&o.f.email.touched),r.xp6(5),r.Q6J("type",o.hide?"password":"text"),r.xp6(1),r.uIk("aria-label","Hide password")("aria-pressed",o.hide),r.xp6(2),r.Oqu(o.hide?"visibility_off":"visibility"),r.xp6(1),r.Q6J("ngIf",o.f.password.errors&&o.f.password.touched),r.xp6(7),r.Q6J("disabled",o.loginForm.invalid))},directives:[l.yS,i._Y,i.JL,i.sg,s.KE,s.hX,T.Nt,i.Fj,i.JJ,i.u,g.O5,A.lW,s.R9,q.Hw,s.TO],styles:["#Login[_ngcontent-%COMP%]{background-image:url(tasks-bg.e8315c0cda837f29d992.webp);background-size:cover;background-position:center center;background-repeat:no-repeat}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#0000001a}.login_form[_ngcontent-%COMP%]{border-radius:4px;background-color:#ffffffd9;box-shadow:#63636333 0 2px 8px;-webkit-border-radius:4px;-moz-border-radius:4px;-ms-border-radius:4px;-o-border-radius:4px}.login_form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--main-color)!important}.logo[_ngcontent-%COMP%]{text-transform:capitalize;font-weight:700;font-size:1.6rem;display:block;color:var(--whiteColor);margin-bottom:2rem;text-align:center}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px}@media (max-width: 767px){.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px}}"]}),e})()},{path:"register",component:(()=>{class e{constructor(t,o,m){this.fb=t,this.authSer=o,this.toastr=m,this.hide=!0,this.hide1=!0,this.checkPassword=u=>{var c,d;return(null===(c=u.get("password"))||void 0===c?void 0:c.value)===(null===(d=u.get("confirmPassword"))||void 0===d?void 0:d.value)?null:{notSame:!0}}}ngOnInit(){this.buildForm()}buildForm(){this.registerForm=this.fb.group({username:["",[i.kI.required,i.kI.minLength(5)]],email:["",[i.kI.required,i.kI.email]],password:["",i.kI.required],confirmPassword:["",i.kI.required]},{validators:this.checkPassword})}get f(){return this.registerForm.controls}createAccount(){this.authSer.createAcc({username:this.f.username.value,email:this.f.email.value,password:this.f.password.value,role:"user"}).subscribe(o=>{this.toastr.success("Success","Register success")})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(i.qu),r.Y36(_),r.Y36(h._W))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-register"]],decls:49,vars:15,consts:[["id","Register",1,"vh-100","d-flex","justify-content-center","align-items-center"],[1,"overlay"],[1,"container","position-relative"],[1,"row","justify-content-center"],[1,"col-lg-6","col-md-8"],[1,"register_form","py-4","px-3"],["routerLink","",1,"logo"],["src","assets/imgs/logo-tasks-primary.png","alt","logo"],[1,"example-form",3,"formGroup"],[1,"row","g-4"],[1,"col-md-6"],["appearance","fill",1,"example-full-width","w-100"],["type","text","matInput","","formControlName","username"],[4,"ngIf"],["type","email","matInput","","formControlName","email"],["matInput","","formControlName","password","matInput","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","formControlName","confirmPassword","matInput","",3,"type"],[1,"col-12","text-center","mt-2"],["routerLink","/login"],[1,"actions","text-center","mt-3"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(t,o){1&t&&(r.TgZ(0,"section",0),r._UZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r.TgZ(6,"a",6),r._UZ(7,"img",7),r.qZA(),r.TgZ(8,"form",8),r.TgZ(9,"div",9),r.TgZ(10,"div",10),r.TgZ(11,"mat-form-field",11),r.TgZ(12,"mat-label"),r._uU(13,"Username"),r.qZA(),r._UZ(14,"input",12),r.YNc(15,J,3,2,"mat-error",13),r.qZA(),r.qZA(),r.TgZ(16,"div",10),r.TgZ(17,"mat-form-field",11),r.TgZ(18,"mat-label"),r._uU(19,"Email"),r.qZA(),r._UZ(20,"input",14),r.YNc(21,R,3,2,"mat-error",13),r.qZA(),r.qZA(),r.TgZ(22,"div",10),r.TgZ(23,"mat-form-field",11),r.TgZ(24,"mat-label"),r._uU(25,"Password"),r.qZA(),r._UZ(26,"input",15),r.TgZ(27,"button",16),r.NdJ("click",function(){return o.hide=!o.hide}),r.TgZ(28,"mat-icon"),r._uU(29),r.qZA(),r.qZA(),r.YNc(30,O,2,1,"mat-error",13),r.qZA(),r.qZA(),r.TgZ(31,"div",10),r.TgZ(32,"mat-form-field",11),r.TgZ(33,"mat-label"),r._uU(34,"confirm Password"),r.qZA(),r._UZ(35,"input",17),r.TgZ(36,"button",16),r.NdJ("click",function(){return o.hide1=!o.hide1}),r.TgZ(37,"mat-icon"),r._uU(38),r.qZA(),r.qZA(),r.YNc(39,F,2,1,"mat-error",13),r.YNc(40,L,4,0,"mat-hint",13),r.qZA(),r.qZA(),r.TgZ(41,"div",18),r.TgZ(42,"p"),r._uU(43,"Already Have an Account ? "),r.TgZ(44,"a",19),r._uU(45,"Login"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(46,"div",20),r.TgZ(47,"button",21),r.NdJ("click",function(){return o.createAccount()}),r._uU(48,"Register"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(8),r.Q6J("formGroup",o.registerForm),r.xp6(7),r.Q6J("ngIf",o.f.username.errors&&o.f.username.touched),r.xp6(6),r.Q6J("ngIf",o.f.email.errors&&o.f.email.touched),r.xp6(5),r.Q6J("type",o.hide?"password":"text"),r.xp6(1),r.uIk("aria-label","Hide password")("aria-pressed",o.hide),r.xp6(2),r.Oqu(o.hide?"visibility_off":"visibility"),r.xp6(1),r.Q6J("ngIf",o.f.password.errors&&o.f.password.touched),r.xp6(5),r.Q6J("type",o.hide1?"password":"text"),r.xp6(1),r.uIk("aria-label","Hide1 password")("aria-pressed",o.hide1),r.xp6(2),r.Oqu(o.hide1?"visibility_off":"visibility"),r.xp6(1),r.Q6J("ngIf",o.f.confirmPassword.errors&&o.f.confirmPassword.touched),r.xp6(1),r.Q6J("ngIf",o.registerForm.hasError("notSame")),r.xp6(7),r.Q6J("disabled",o.registerForm.invalid))},directives:[l.yS,i._Y,i.JL,i.sg,s.KE,s.hX,T.Nt,i.Fj,i.JJ,i.u,g.O5,A.lW,s.R9,q.Hw,s.TO,s.bx],styles:["[_nghost-%COMP%]     .mat-hint{color:red}#Register[_ngcontent-%COMP%]{background-image:url(tasks-bg.e8315c0cda837f29d992.webp);background-size:cover;background-position:center center;background-repeat:no-repeat}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#0000001a}.register_form[_ngcontent-%COMP%]{border-radius:4px;background-color:#ffffffd9;box-shadow:#63636333 0 2px 8px;-webkit-border-radius:4px;-moz-border-radius:4px;-ms-border-radius:4px;-o-border-radius:4px}.register_form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--main-color)!important}.logo[_ngcontent-%COMP%]{display:block;margin-bottom:1rem;text-align:center}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px}@media (max-width: 767px){.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px}}"]}),e})()}];let S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[l.Bz.forChild(Q)],l.Bz]}),e})(),z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[g.ez,S,v.q,f.JF,i.u5,i.UX]]}),e})()}}]);